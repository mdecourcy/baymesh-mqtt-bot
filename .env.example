# Meshtastic Statistics Bot Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Database Settings
# =============================================================================
DATABASE_URL=sqlite:///meshtastic_stats.db
# For production, consider PostgreSQL:
# DATABASE_URL=postgresql://user:password@localhost:5432/meshtastic_stats

# =============================================================================
# API Server Settings
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# =============================================================================
# MQTT Broker Settings
# =============================================================================
MQTT_SERVER=mqtt.bayme.sh
MQTT_USERNAME=your_mqtt_username
MQTT_PASSWORD=your_mqtt_password
MQTT_ROOT_TOPIC=msh/US/bayarea/2/e/LongFast
MQTT_TLS_ENABLED=true
MQTT_TLS_INSECURE=true

# Decryption keys for MQTT messages (comma-separated base64 strings)
MESHTASTIC_DECRYPTION_KEYS=1PG7OiApB1nwvP+rz05pAQ==
# Include the default public key (AQ==)?
MESHTASTIC_INCLUDE_DEFAULT_KEY=true

# =============================================================================
# Meshtastic Device Connection
# =============================================================================
# TCP connection to Meshtastic device (for command bot)
MESHTASTIC_CONNECTION_URL=tcp://192.168.1.100:4403
# Or serial connection:
# MESHTASTIC_CONNECTION_URL=serial:///dev/ttyUSB0

# Meshtastic CLI path (for daily broadcasts via scheduler)
MESHTASTIC_CLI_PATH=meshtastic

# Optional: Use a different .env file for Meshtastic CLI commands
# MESHTASTIC_ENV_FILE=.env.heltec

# Enable the in-mesh command bot (listens for ! commands)
MESHTASTIC_COMMANDS_ENABLED=true

# Channel index for broadcasting stats (0 for primary channel)
MESHTASTIC_STATS_CHANNEL_ID=0

# =============================================================================
# Scheduler Settings
# =============================================================================
# Time to send daily summaries (UTC, 24-hour format)
SUBSCRIPTION_SEND_HOUR=9
SUBSCRIPTION_SEND_MINUTE=0

# =============================================================================
# Optional: Rate Limiting
# =============================================================================
# Uncomment to customize command rate limits
# RATE_LIMIT_BURST=5
# RATE_LIMIT_SECONDS=60
